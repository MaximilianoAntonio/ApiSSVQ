[providers]
python = "3.11"

[phases.build]
dependsOn = ["setup"]
cmds = [
    "python -m pip install --upgrade pip",
    "pip install -r requirements.txt",
    "python manage.py collectstatic --noinput --clear"
]

[phases.setup]
nixPkgs = [
    "python311",
    "python311Packages.pip",
    "unixODBC",
    "msodbcsql18",
    "curl",
    "gnupg"
]

[start]
cmd = "gunicorn gestor_vehiculos.wsgi:application --bind 0.0.0.0:$PORT --workers 2"

[variables]
PYTHONPATH = "/app"
DJANGO_SETTINGS_MODULE = "gestor_vehiculos.settings"